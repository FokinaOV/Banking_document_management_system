# Сценарии использования - Use Case

## **Содержание**
 
- [UC - 1.3 Поиск и просмотр информации по обращению](#uc---13-поиск-и-просмотр-информации-по-обращению)  
- [UC - 2.1 Создание Лида при обращении нового клиента в Банк и передача данных по нему в CRM](#uc---21-создание-лида-при-обращении-нового-клиента-в-банк-и-передача-данных-по-нему-в-crm) 
- [UC - 3.2 Назначение роли в системе действующему и новому сотрудникам](#uc---32-назначение-роли-в-системе-действующему-и-новому-сотрудникам)  
- [UC - 4.1 Формирование отчетов](#uc---41-формирование-отчетов)
#



## UC - 1.3 Поиск и просмотр информации по обращению

**ID: UC-1.3**

**Название:** Поиск и просмотр информации по обращению

**Действующее лицо:** контролер процесса по работе с обращениями / контролер по качеству обработки обращений / регистратор обращения / ответственный по обращению/секретарь претензионной комиссии

**Предусловия**: Пользователь находится в форме «Работа с обращениями»

**Основной поток:**

1. Пользователь дает команду «Поиск обращения»
2. Система выводит форму «Поиск обращения» и предлагает указать хотя бы один из атрибутов формы:
    - Номер Обращения
    - Уникальный номер Клиента
    - ФИО клиента
    - Паспортные данные Клиента
3. Пользователь сообщает данные по одному или нескольким атрибутам формы «Поиск обращения» и дает команду «Найти»
4. Система убеждается в корректности данных, введенных Пользователем
5. Система отображает форму «Обращение» с атрибутами доступными Пользователю в соответствии с Ролевой моделью *(указано в ФТ, здесь приведен общий перечень атрибутов формы «Обращение»*):
    
    Раздел «Сотрудник»
    
    - ФИО ответственного сотрудника
    - Табельный номер
    - Структурное подразделение
    - Должность
    - Кадровый статус
    - Роль в системе
    
    Раздел «Клиент»
    
    - ФИО клиента
    - Дата рождения
    - Паспортные данные
    - Наличие персонального менеджера
    - Перечень используемых продуктов Банка
    - Персональные предложения (если применимо)
    
    Раздел «Обращение»
    
    - Номер обращения
    - Дата регистрации обращения
    - Дата решения по обращению
    - Канал поступления
    - Категория
    - Приоритет
    - Текст обращения
    - Решение по обращению
    - История изменения обращения
    - Информация о контроле качества
    1. Пользователь дает команду «Закрыть» форму «Обращение»
    2. Система запрашивает у Пользователя подтверждение закрытия формы «Обращение»
    3. Пользователь дает команду “Подтвердить”
    4. Система закрывает форму «Обращение» и возвращает Пользователя в форму «Работа с обращениями

---

**Расширение:**

3а. Данные введены некорректно

3а1 Система обнаруживает некорректный формат данных, которые ввел Пользователь

3а2 Система оповещает Пользователя об ошибке

3а3 Выполнение сценария возвращает в основной поток в п.2

5а. Ошибка обращения в БД

5а1 Система оповещает Пользователя об ошибке при обращении к БД

5а2 Завершение выполнения сценария

8а. Пользователь не подтверждает закрытие формы «Обращение»

8а1 Пользователь дает команду «Отмена»

8а2 Выполнение сценария возвращает в основной поток в п.5

#
## UC - 2.1 Создание Лида при обращении нового клиента в Банк и передача данных по нему в CRM

- **ID: UC-2.1**

- **Название:** Создание Лида при обращении нового клиента в Банк и передача данных по нему в CRM

- **Действующее лицо:**  Регистратор обращения

- **Предусловия**: Пользователь находится в форме «Регистрация обращения»

- **Триггер:** Данные по Клиенту, от которого поступило Обращение, отсутствуют в CRM

- **Постусловия:** 
    - Пользователь находится в п.5 основного потока сценария UC – 1.1
    - Данные о Клиенте переданы в CRM
    </p>

- **Основной поток:**

    1. Система предлагает Пользователю ввести данные Лида в следующие атрибуты формы «Регистрация обращения»:
        - ФИО клиента
        - Дата рождения
        - Паспортные данные
        - Канал поступления
        - Текст обращения
        - Категория
        - Приоритет
    2. Пользователь вносит данные Клиента в форму «Регистрация обращения» и дает команду «Подтвердить регистрацию»
    3. Система выполняет сценарий UC – 1.1, продолжая с п.5 основного потока
    4. Система направляет в CRM следующие данные из формы «Регистрации обращения»:
        - ФИО клиента
        - Дата рождения
        - Паспортные данные
        - Текст обращения
        - Дата регистрации обращения в Системе
        - Табельный номер сотрудника, который заполнил форму «Регистрации обращения»
    5. Система получает сообщение об успешной отправке данных в CRM
     </p>

- **Расширение:**

    2a. Данные не введены

    2а1 Система обнаруживает обязательные поля обращения, в которые пользователь не ввел данные при формировании события

    2а2 Система оповещает пользователя об ошибке

    2а3 Выполнение сценария возвращает в основной поток в п.2

    2б. Данные введены некорректно

    2б1 Система обнаруживает поля обращения, в которые пользователь ввел некорректные данные при формировании события

    2б2 Система оповещает пользователя  об ошибке

    2б3 Выполнение сценария возвращается в основной поток в п.2

    5а1 Система фиксирует ошибку при отправке данных в CRM

    5а2 Выполнение сценария возвращает в основной поток в п.4

#
## UC - 3.2 Назначение роли в системе действующему и новому сотрудникам

- **ID: UC-3.2**

- **Название:** Назначение роли в системе действующему и новому сотрудникам

- **Действующее лицо:** Контролер процесса по работе с обращениями

- **Предусловия**: Пользователь находится в форме «Управление профилем сотрудника»
</p>


- **Основной поток:**

    1. Пользователь дает команду «Поиск сотрудника» 
    2. Система предлагает указать «Табельный номер сотрудника»
    3. Пользователь сообщает «Табельный номер сотрудника» и дает команду «Найти» 
    4. Система убеждается, что Сотрудник с указанными Табельным номером есть в БД и выводит форму «Профиль сотрудника» со следующими атрибутами:
        - ФИО сотрудника
        - Табельный номер 
        - Структурное подразделение
        - Должность
        - Кадровый статус
        - Роль в системе
        - Контактные данные
    5. Пользователь вносит изменение в форме «Профиль сотрудника» в атрибуте «Роль в системе» и дает команду «Сохранить»
    6. Система убеждается в корректности данных, введенных Пользователем 
    7. Система сохраняет внесенные изменения Пользователем
    8. Система сообщает о успешном завершении операции
    </p>

- **Расширение:**

    3а. Данные введены некорректно

    3а1 Система обнаруживает некорректный формат данных, которые ввел Пользователь

    3а2 Система оповещает Пользователя об ошибке

    3а3 Выполнение сценария возвращает в основной поток в п.2

    4а. Ошибка обращения в БД

    4а1 Система оповещает Пользователя об ошибке при обращении к БД

    4а2 Завершение выполнения сценария

    4б. Сотрудник с указанным Табельным номером не найден в системе

    4б1 Система оповещает Пользователя об отсутствии Сотрудника с указанным Табельным номером в БД и предлагает создать «Профиль сотрудника»

    4б2 Пользователь дает команду «Создать профиль сотрудника» 

    4б2.1 Пользователь дает команду «Отмена»

    4б2.2 Завершение выполнения сценария

    4б3 Система  запрашивает данные Сотрудника с указанным Табельным номером в «Подсистеме обмена кадровой информации»:

    - ФИО сотрудника
    - Табельный номер
    - Структурное подразделение
    - Должность
    - Кадровый статус
    - Контактные данные

    4б4 Система получает ответ на запрос из «Подсистемы обмена кадровой информации»

    4б4.1 Система оповещает пользователя об ошибке при обращении к «Подсистеме обмена кадровой информации»

    4б4.2 Завершение выполнения сценария

    4б5 Система выводит форму «Профиль сотрудника» с указанием полученных данных о Сотруднике и  предлагает Пользователю заполнить атрибут «Роль в системе»

    4б7 Пользователь сообщает данные атрибута «Роль в системе» и дает команду «Создать»

    4б8 Выполнение сценария возвращает в основной поток в п.6

    5а. Пользователь не вносит изменения в форме «Профиль сотрудника»

    5а1 Пользователь не меняет данные в форме «Профиль сотрудника» в атрибуте «Роль в системе»

    5а2 Пользователь выбирает функцию Сохранить

    5а3 Система определяет, что данные не были изменены

    5а4 Система просит подтвердить сохранение без изменений 

    5а5 Пользователь вызывает функцию подтверждения сохранения 

    5а6 Выполнение сценария возвращает в основной поток в п.8

#
## UC - 4.1 Формирование отчетов

- **ID: UC-4.1**

- **Название:** Формирование отчетов

- **Действующее лицо:** Контролер процесса по работе с обращениями, контролер по качеству обработки обращений, ответственный по обращению

- **Предусловия:** Пользователь находится в форме “Отчетность”

- **Постусловие:**  Отчёт о нагрузке сотрудников подразделения сохранен в Системе *(если применимо)*
</p>

- **Основной поток:**

    1. Пользователь выбирает функцию Задать параметры Отчета
    2. Система выводит данные для задания параметров формирования Отчета в соответствии с ФТ
    3. Пользователь устанавливает значения параметров Отчета
    4. Пользователь выбирает функцию Сформировать отчет
    5. Система убеждается в корректности данных, введенных Пользователем
    6. Система отображает данные по Отчету в соответствии с ФТ
    7. Система сообщает о успешном завершении операции
</p>

- **Расширение:**

    5a. Система уведомляет о некорректности введенных данных 

    5а1 Система обнаруживает некорректные данные в параметрах установки Отчета

    5а2 Система оповещает Пользователя об ошибке

    5а3 Выполнение сценария возвращает в основной поток в п.3

    6а. Ошибка обращения в БД при формировании отчета

    6а1 Система оповещает Пользователя об ошибке при обращении к БД

    6а2 Завершение выполнения сценария

    6б. Отчёт о нагрузке сотрудников подразделения сохранен в Системе

    6а1 Система оповещает Пользователя об ошибке при обращении к БД

    6а2 Завершение выполнения сценария

    6а1 Система определяет сформированный отчет как “Отчёт о нагрузке сотрудников подразделения”

    6а2 Система сохраняет данные “Отчёта о нагрузке сотрудников подразделения” в Системе

    6а3 Завершение выполнения сценария

#
